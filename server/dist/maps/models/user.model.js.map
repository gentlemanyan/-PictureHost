{"version":3,"sources":["../../models/user.model.ts"],"names":[],"mappings":";;AAIA,uCAA8C;AAC9C,qCAAqC;AAErC,MAAM,UAAU,GAAW,IAAI,iBAAM,CAAC;IACpC,EAAE,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;IAClC,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,kBAAkB;QAC1B,QAAQ,EAAE,SAAS;KACpB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,UAAU;KACrB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,gBAAgB;QACxB,QAAQ,EAAE;YACR;gBACE,SAAS,EAAE,CAAC,KAAK,EAAE,EAAE;oBACnB,MAAM,CAAC,0BAA0B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAChD,CAAC;gBACD,GAAG,EAAE,kBAAkB;aACxB;SACF;KACF;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,gBAAgB;QACxB,QAAQ,EAAE;YACR;gBACE,SAAS,EAAE,oBAAoB,KAAK;oBAClC,MAAM,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC7C,CAAC;gBACD,GAAG,EAAE,oBAAoB;aAC1B;SACF;KACF;CACF,CAAC,CAAC;AAEU,QAAA,IAAI,GAAG,gBAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC","file":"../../models/user.model.js","sourcesContent":["/**\r\n * @description User Model\r\n * @author zhangyan create by 2017/12/11 \r\n */\r\nimport {Schema, Model, model} from 'mongoose';\r\nimport * as mongoose from 'mongoose';\r\n\r\nconst userSchema: Schema = new Schema({\r\n  id: mongoose.Schema.Types.ObjectId,\r\n  username: {\r\n    type: String,\r\n    unique: '用户名已经存在，请更换您的用户名',\r\n    required: '用户名不能为空',\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: '用户密码不能为空'\r\n  },\r\n  email: {\r\n    type: String,\r\n    unique: '邮箱已被使用，请使用其他邮箱',\r\n    validate: [\r\n      {\r\n        validator: (value) => {\r\n          return /\\w+@[A-z0-9]+\\.(com|cn)$/.test(value);\r\n        },\r\n        msg: '无效的邮箱格式，请使用正确的邮箱'\r\n      }\r\n    ]\r\n  },\r\n  phone: {\r\n    type: String,\r\n    unique: '手机号已被使用，请更换手机号',\r\n    validate: [\r\n      {\r\n        validator: function checkPhone(value) {\r\n          return /^1(3|4|5|7|8|9)\\d{9}$/.test(value);\r\n        },\r\n        msg: '手机号格式不正确，请使用正确的手机号',\r\n      },\r\n    ],\r\n  }\r\n});\r\n\r\nexport const User = model('User', userSchema);\r\n"]}